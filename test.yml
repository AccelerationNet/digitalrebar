---
- Name: 'test script template rule'
  Matchers:
    - Enabled: true
  MatchActions:
    - Script: |
        echo "Hello from {{.Evt.Node.UUID}} (AKA {{.Evt.Node.Name}})"
        echo "I an running because noderole {{.Evt.NodeRole.ID}} (for role {{.Evt.Role.Name}}) triggered {{.Evt.Selector.event}}"
    - Delay:
      - Duration: 30
      - Script: |
         echo "This should be delayed 30 seconds"
         env
      - Log: true
- Name: 'test logging rule'
  WantsAttribs:
    - number_of_drives
  Matchers:
    - Enabled: true
    - JSON: 
        Selector: ':root .Attribs .number_of_drives:val(5)'
        SaveAs: 'driveCount'
  MatchActions:
    - Log: true
    - Script: |
       echo "System has 5 drives"
       env
